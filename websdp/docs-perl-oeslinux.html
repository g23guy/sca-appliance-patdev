<?xml version="1.0" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>Perl Library for SCA Patterns</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<link rev="made" href="mailto:none" />
</head>

<body style="background-color: white">


<!-- INDEX BEGIN -->
<div name="index">
<p><a name="__index__"></a></p>

<ul>

	<li><a href="#name">NAME</a></li>
	<li><a href="#synopsis">SYNOPSIS</a></li>
	<li><a href="#description">DESCRIPTION</a></li>
	<li><a href="#functions__information_gathering">FUNCTIONS: Information Gathering</a></li>
	<ul>

		<li><a href="#getnssvolumes">getNssVolumes</a></li>
		<li><a href="#ncsactive">ncsActive</a></li>
		<li><a href="#dsfwcapable">dsfwCapable</a></li>
		<li><a href="#shadowvolumes">shadowVolumes</a></li>
		<li><a href="#iprintclustered">iPrintClustered</a></li>
	</ul>

	<li><a href="#contributors">CONTRIBUTORS</a></li>
	<li><a href="#copyright">COPYRIGHT</a></li>
</ul>

<hr name="index" />
</div>
<!-- INDEX END -->

<p>
</p>
<h1><a name="name">NAME</a></h1>
<p>SDP::OESLinux - The Support Diagnostic Pattern perl library for Open Enterprise
                Server for Linux</p>
<p>
</p>
<hr />
<h1><a name="synopsis">SYNOPSIS</a></h1>
<p>use SDP::OESLinux;</p>
<p>
</p>
<hr />
<h1><a name="description">DESCRIPTION</a></h1>
<p>Provides necessary functions specific to patterns requiring OES for Linux 
functionality.</p>
<p>
</p>
<hr />
<h1><a name="functions__information_gathering">FUNCTIONS: Information Gathering</a></h1>
<hr><p>
</p>
<h2><a name="getnssvolumes">getNssVolumes</a></h2>
<dl>
<dt><strong><a name="description" class="item">Description</a></strong>

<dd>
<p>Creates an array of hashes with NSS volumes and their attributes. Attributes are defined as the hash keys.</p>
</dd>
</li>
<dt><strong><a name="usage" class="item">Usage</a></strong>

<dd>
<pre>
        my $i;
        my @NSS_VOLUMES = SDP::OESLinux::getNssVolumes();
        for $i (0 .. $#NSS_VOLUMES) {
                print(&quot;Volume: $NSS_VOLUMES[$i]{'name'}\n&quot;);
        }
        $i = $#NSS_VOLUMES + 1;
        print(&quot;Volumes Found: $i\n&quot;);</pre>
</dd>
<dt><strong><a name="input" class="item">Input</a></strong>

<dd>
<p>None</p>
</dd>
</li>
<dt><strong><a name="output" class="item">Output</a></strong>

<dd>
<p>An array of hashes.</p>
</dd>
</li>
<dt><strong><a name="requires" class="item">Requires</a></strong>

<dd>
<p>None</p>
</dd>
</li>
<dt><strong><a name="hash_keys_for_volumes" class="item">Hash Keys for Volumes</a></strong>

<dd>
<p>name (The NSS volume name)</p>
</dd>
<dd>
<p>state (The current volume state, ususally ACTIVE)</p>
</dd>
<dd>
<p><em>attribute</em> (If a volume attribute exists, the hash key is the attribute name with a value of 1; otherwise no key is defined.)</p>
</dd>
</li>
</dl>
<hr><p>
</p>
<h2><a name="ncsactive">ncsActive</a></h2>
<dl>
<dt><strong><a name="description2" class="item">Description</a></strong>

<dd>
<p>Returns true is Novell Cluster Services is active on the server, otherwise it returns false.</p>
</dd>
</li>
<dt><strong><a name="usage2" class="item">Usage</a></strong>

<dd>
<pre>
        if ( SDP::OESLinux::ncsActive() ) {
                SDP::Core::updateStatus(STATUS_SUCCESS, &quot;NCS is Active on the Server&quot;);
        } else {
                SDP::Core::updateStatus(STATUS_WARNING, &quot;NCS is NOT active on the Server&quot;);
        }</pre>
</dd>
<dt><strong><a name="input2" class="item">Input</a></strong>

<dd>
<p>None</p>
</dd>
</li>
<dt><strong><a name="output2" class="item">Output</a></strong>

<dd>
<p>0 = NCS Not Active</p>
</dd>
<dd>
<p>1 = NCS Active</p>
</dd>
</li>
<dt><strong><a name="requires2" class="item">Requires</a></strong>

<dd>
<p>None</p>
</dd>
</li>
</dl>
<hr><p>
</p>
<h2><a name="dsfwcapable">dsfwCapable</a></h2>
<dl>
<dt><strong><a name="description3" class="item">Description</a></strong>

<dd>
<p>Checks for DSfW capabilities from the LDAP root DSE server in novell-lum.txt file.</p>
</dd>
</li>
<dt><strong><a name="usage3" class="item">Usage</a></strong>

<dd>
<pre>
        if ( SDP::OESLinux::dsfwCapable() ) {
                SDP::Core::updateStatus(STATUS_SUCCESS, &quot;Server is DSfW Capable&quot;);
        } else {
                SDP::Core::updateStatus(STATUS_WARNING, &quot;Server is not DSfW Capable&quot;);
        }</pre>
</dd>
<dt><strong><a name="input3" class="item">Input</a></strong>

<dd>
<p>None</p>
</dd>
</li>
<dt><strong><a name="output3" class="item">Output</a></strong>

<dd>
<p>0 = No DSfW</p>
</dd>
<dd>
<p>1 = DSfW capable</p>
</dd>
</li>
<dt><strong><a name="requires3" class="item">Requires</a></strong>

<dd>
<p>None</p>
</dd>
</li>
</dl>
<hr><p>
</p>
<h2><a name="shadowvolumes">shadowVolumes</a></h2>
<dl>
<dt><strong><a name="description4" class="item">Description</a></strong>

<dd>
<p>Checks for DSfW capabilities from the LDAP root DSE server in novell-lum.txt file.</p>
</dd>
</li>
<dt><strong><a name="usage4" class="item">Usage</a></strong>

<dd>
<pre>
        if ( SDP::OESLinux::shadowVolumes() ) {
                SDP::Core::updateStatus(STATUS_SUCCESS, &quot;Server is DSfW Capable&quot;);
        } else {
                SDP::Core::updateStatus(STATUS_WARNING, &quot;Server is not DSfW Capable&quot;);
        }</pre>
</dd>
<dt><strong><a name="input4" class="item">Input</a></strong>

<dd>
<p>None</p>
</dd>
</li>
<dt><strong><a name="output4" class="item">Output</a></strong>

<dd>
<p>0 = No Dynamic Storeage Technology Shadow Volumes in use</p>
</dd>
<dd>
<p>1 = Shadow Volumes in use</p>
</dd>
</li>
<dt><strong><a name="requires4" class="item">Requires</a></strong>

<dd>
<p>None</p>
</dd>
</li>
</dl>
<hr><p>
</p>
<h2><a name="iprintclustered">iPrintClustered</a></h2>
<dl>
<dt><strong><a name="description5" class="item">Description</a></strong>

<dd>
<p>Checks to see if iPrint has been configured in a clustered environment.</p>
</dd>
</li>
<dt><strong><a name="usage5" class="item">Usage</a></strong>

<dd>
<pre>
        my $IPNCS = SDP::OESLinux::iPrintClustered();
        if ( $IPNCS &gt; 0 ) {
                SDP::Core::updateStatus(STATUS_SUCCESS, &quot;iPrint is Clustered&quot;);
        } elsif ( $IPNCS &lt; 0 ) {
                SDP::Core::updateStatus(STATUS_ERROR, &quot;ERROR: Invalid iPrint Cluster Configuration&quot;);
        } else {
                SDP::Core::updateStatus(STATUS_WARNING, &quot;iPrint is NOT Clustered&quot;);
        }</pre>
</dd>
<dt><strong><a name="input5" class="item">Input</a></strong>

<dd>
<p>None</p>
</dd>
</li>
<dt><strong><a name="output5" class="item">Output</a></strong>

<dd>
<p>-1 = Invalid cluster configuration</p>
</dd>
<dd>
<p>0  = iPrint is not clustered</p>
</dd>
<dd>
<p>1  = iPrint is clustered</p>
</dd>
</li>
<dt><strong><a name="requires5" class="item">Requires</a></strong>

<dd>
<p>None</p>
</dd>
</li>
</dl>
<p>
</p>
<hr />
<h1><a name="contributors">CONTRIBUTORS</a></h1>
<p>Jason Record &lt;<a href="mailto:jrecord@novell.com">jrecord@novell.com</a>&gt;</p>
<p>
</p>
<hr />
<h1><a name="copyright">COPYRIGHT</a></h1>
<p>Copyright (C) 2009,2010-2013 Novell, Inc.</p>
<p>This program is free software; you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation; version 2 of the License.</p>
<p>This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.</p>
<p>You should have received a copy of the GNU General Public License
along with this program; if not, see &lt;http://www.gnu.org/licenses/&gt;.

</body>

</html>
